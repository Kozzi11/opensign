/*
    Copyright 2012 Paw Figgé Kjeldgaard


    This file is part of OpenSign.

    OpenSign is free software; you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation; either version 2.1 of the License, or
    (at your option) any later version.

    OpenSign is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with OpenOcesAPI; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA


    Note to developers:
    If you add code to this file, please take a minute to add an additional
    copyright statement above and an additional
    @author statement below.
*/

/* $Id: Attachment.java,v 1.3 2012/09/27 11:03:50 pakj Exp $ */

package org.openoces.opensign.demo.servlets;

import org.springframework.web.multipart.commons.CommonsMultipartFile;

import java.io.Serializable;

/**
 * @author Paw Figgé Kjeldgaard (pfk@miracleas.dk)
 */
public class Attachment implements Serializable {
    private boolean optional;
    private boolean validChecksum;
    private byte[] content;
    private String contentType;
    private String name;

    public Attachment(CommonsMultipartFile file) {
        this.name = file.getOriginalFilename();
        this.content = file.getBytes();
        this.contentType = "application/x-pdf".equalsIgnoreCase(file.getContentType()) ? "application/pdf" : file.getContentType();
        this.optional = false;
        this.validChecksum = true;
    }

    public byte[] getContent() {
        return content;
    }

    public void setContent(byte[] content) {
        this.content = content;
    }

    public int getSize() {
    	return content.length;
    }
    
    public String getContentType() {
        return contentType;
    }

    public void setContentType(String contentType) {
        this.contentType = contentType;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public boolean isOptional() {
        return optional;
    }

    public void setOptional(boolean optional) {
        this.optional = optional;
    }

    public boolean isValidChecksum() {
        return validChecksum;
    }

    public void setValidChecksum(boolean validChecksum) {
        this.validChecksum = validChecksum;
    }
}