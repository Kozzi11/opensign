package org.openoces.opensign.client.applet.dialogs.panel;

import org.openoces.opensign.certificate.CertificateHandler;
import org.openoces.opensign.client.applet.CallBackHandler;
import org.openoces.opensign.client.applet.dialogs.GuiUtil;
import org.openoces.opensign.client.applet.dialogs.listeners.ExportActionListener;
import org.openoces.opensign.client.applet.resources.ResourceManager;

import javax.swing.*;
import java.awt.*;
import java.util.List;

public class ExportPanel extends AbstractCertificateViewPanel {

    public ExportPanel(CallBackHandler callbackHandler, List<CertificateHandler> certificates, boolean supportBrowsingForCertificate) {
        super(callbackHandler, certificates, supportBrowsingForCertificate, new ExportCertificateFilter());
        bOk.addActionListener(new ExportActionListener(callbackHandler, this, bOk));
    }

    @Override
    protected JComponent[] getActionButtons() {
        return new JComponent[]{bOk, bDetails};
    }

    @Override
    protected JComponent getContentPanel() {
        JPanel panel = componentFactory.createPanel(new GridBagLayout());

        String header = ResourceManager.getString("EXPORT_HOW_TO");

        JLabel label = componentFactory.createHeaderLabel(header);

        int y = 0;
        y = GuiUtil.addSingleLine(panel, 0, y, label);
        GuiUtil.addComboBoxLine(panel, 0, y, chCertList, bFunctions);

        return panel;
    }

    @Override
    public JComponent getFocusComponent() {
        return bOk;
    }

    @Override
    protected String getOkButtonTextId() {
        return "OK_EXPORT";
    }

    @Override
    protected String getBrowseButtonTextId() {
        return "FUNCTIONS_MODERN_LOGON";
    }
}
